{"ast":null,"code":"import _regeneratorRuntime from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Category=function Category(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),currentCategory=_useState4[0],setCurrentCategory=_useState4[1];var capitalizeFirstLetter=function capitalizeFirstLetter(word){if(word)return word.charAt(0).toUpperCase()+word.slice(1);return'';};var category=useParams().id;useEffect(function(){setCurrentCategory(capitalizeFirstLetter(category));var config={headers:{'Content-Type':'application/json'}};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://127.0.0.1:8000/api/blog/category\",{category:category},config);case 3:res=_context.sent;setBlogs(res.data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[useParams().id]);var getCategoryBlogs=function getCategoryBlogs(){var list=[];var result=[];blogs.map(function(blogPost){return list.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col p-4 d-flex flex-column position-static\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"d-inline-block mb-2 text-primary\",children:capitalizeFirstLetter(blogPost.category)}),/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:blogPost.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 text-muted\",children:[blogPost.month,\" \",blogPost.day]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text mb-auto\",children:blogPost.excerpt}),/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blogPost.slug),className:\"stretched-link\",children:\"Continue reading\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"img\",{width:\"200\",height:\"250\",src:blogPost.thumbnail,alt:\"thumbnail\"})})]}));});for(var i=0;i<list.length;i+=2){result.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:list[i]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:list[i+1]?list[i+1]:null})]},i));}return result;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"display-4\",children:[currentCategory,\" Category\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-scroller py-1 mb-2\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"nav d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/world\",children:\"World\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/environment\",children:\"Environment\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/design\",children:\"Design\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/culture\",children:\"Culture\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/business\",children:\"Business\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/politics\",children:\"Politics\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/opinion\",children:\"Opinion\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/science\",children:\"Science\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/health\",children:\"Health\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/style\",children:\"Style\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/travel\",children:\"Travel\"})]})}),getCategoryBlogs()]});};export default Category;","map":{"version":3,"sources":["C:/ToyProject/FullStack/BLOG/frontend/src/components/Category.js"],"names":["React","useState","useEffect","axios","Link","useParams","Category","blogs","setBlogs","currentCategory","setCurrentCategory","capitalizeFirstLetter","word","charAt","toUpperCase","slice","category","id","config","headers","fetchData","post","res","data","getCategoryBlogs","list","result","map","blogPost","push","title","month","day","excerpt","slug","thumbnail","i","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nconst Category = () => {\r\n    const [blogs, setBlogs] = useState([]);\r\n    const [currentCategory, setCurrentCategory] = useState('');\r\n    const capitalizeFirstLetter = (word) => {\r\n        if (word)\r\n            return word.charAt(0).toUpperCase() + word.slice(1);\r\n        return '';\r\n    };\r\n    const category = useParams().id;\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        setCurrentCategory(capitalizeFirstLetter(category));\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        };\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const res = await axios.post(`http://127.0.0.1:8000/api/blog/category`, { category }, config);\r\n                setBlogs(res.data);\r\n            }\r\n            catch (err) {\r\n\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [useParams().id]);\r\n\r\n    const getCategoryBlogs = () => {\r\n        let list = [];\r\n        let result = [];\r\n\r\n        blogs.map(blogPost => {\r\n            return list.push(\r\n                <div className=\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\r\n                    <div className=\"col p-4 d-flex flex-column position-static\">\r\n                        <strong className=\"d-inline-block mb-2 text-primary\">{capitalizeFirstLetter(blogPost.category)}</strong>\r\n                        <h3 className=\"mb-0\">{blogPost.title}</h3>\r\n                        <div className=\"mb-1 text-muted\">{blogPost.month} {blogPost.day}</div>\r\n                        <p className=\"card-text mb-auto\">{blogPost.excerpt}</p>\r\n                        <Link to={`/blog/${blogPost.slug}`} className=\"stretched-link\">Continue reading</Link>\r\n                    </div>\r\n                    <div className=\"col-auto d-none d-lg-block\">\r\n                        <img width='200' height='250' src={blogPost.thumbnail} alt='thumbnail' />\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        for (let i = 0; i < list.length; i += 2) {\r\n            result.push(\r\n                <div key={i} className='row mb-2'>\r\n                    <div className='col-md-6'>\r\n                        {list[i]}\r\n                    </div>\r\n                    <div className='col-md-6'>\r\n                        {list[i+1] ? list[i+1] : null}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    return (\r\n        <div className='container mt-3'>\r\n            <h3 className='display-4'>{currentCategory} Category</h3>\r\n            <div className=\"nav-scroller py-1 mb-2\">\r\n                <nav className=\"nav d-flex justify-content-between\">\r\n                    <Link className=\"p-2 text-muted\" to='/category/world'>World</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/environment'>Environment</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/technology'>Technology</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/design'>Design</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/culture'>Culture</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/business'>Business</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/politics'>Politics</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/opinion'>Opinion</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/science'>Science</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/health'>Health</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/style'>Style</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/travel'>Travel</Link>\r\n                </nav>\r\n            </div>\r\n            {getCategoryBlogs()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Category;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/ToyProject/FullStack/BLOG/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blog=function Blog(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),featuredBlog=_useState4[0],setFeaturedBlog=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://127.0.0.1:8000/api/blog/featured\");case 3:res=_context.sent;setFeaturedBlog(res.data[0]);//왜 이렇게 해주는건지 한 행씩 들고오려고?\nconsole.log(res.data);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){var fetchBlogs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://127.0.0.1:8000/api/blog/\");case 3:res=_context2.sent;setBlogs(res.data);_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function fetchBlogs(){return _ref2.apply(this,arguments);};}();fetchBlogs();},[]);var capitalizeFirstLetter=function capitalizeFirstLetter(word){if(word)return word.charAt(0).toUpperCase()+word.slice(1);return'';};var getBlogs=function getBlogs(){var list=[];var result=[];blogs.map(function(blogPost){// by.juhee 실제 데이터와 매핑하여 리스트에 담아주기 (구조 : 카테고리, 제목, 월일, 발췌) 211130\nreturn list.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col p-4 d-flex flex-column position-static\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"d-inline-block mb-2 text-primary\",children:capitalizeFirstLetter(blogPost.category)}),/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:blogPost.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 text-muted\",children:[blogPost.month,\" \",blogPost.day]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text mb-auto\",children:blogPost.excerpt}),/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blogPost.slug),className:\"stretched-link\",children:\"Continue reading\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"img\",{width:\"200\",height:\"250\",src:blogPost.thmubnail,alt:\"thumbnail\"})})]}));});for(var i=0;i<list.length;i+=2){// by.juhee 게시글들을 일정한 행과 열로 나열해주기 211130\nresult.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:list[i]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:list[i+1]?list[i+1]:null})]},i));}return result;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-scroller py-1 mb-2\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"nav d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/world\",children:\"World\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/environment\",children:\"Environment\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/design\",children:\"Design\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/culture\",children:\"Culture\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/business\",children:\"Business\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/politics\",children:\"Politics\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/opinion\",children:\"Opinion\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/science\",children:\"Science\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/health\",children:\"Health\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/style\",children:\"Style\"}),/*#__PURE__*/_jsx(Link,{className:\"p-2 text-muted\",to:\"/category/travel\",children:\"Travel\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron p-4 p-md-5 text-white rounded bg-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 px-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 font-italic\",children:featuredBlog.title}),/*#__PURE__*/_jsx(\"p\",{className:\"lead my-3\",children:featuredBlog.excerpt}),/*#__PURE__*/_jsx(\"p\",{className:\"lead mb-0\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(featuredBlog.slug),className:\"text-white font-weight-bold\",children:\"Continue reading...\"})})]})}),getBlogs()]});};export default Blog;","map":{"version":3,"sources":["C:/ToyProject/FullStack/BLOG/frontend/src/components/Blog.js"],"names":["React","useState","useEffect","axios","Link","Blog","blogs","setBlogs","featuredBlog","setFeaturedBlog","fetchData","get","res","data","console","log","fetchBlogs","capitalizeFirstLetter","word","charAt","toUpperCase","slice","getBlogs","list","result","map","blogPost","push","category","title","month","day","excerpt","slug","thmubnail","i","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Blog = () => {\r\n    const [blogs, setBlogs] = useState([]);\r\n    const [featuredBlog, setFeaturedBlog] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () =>{\r\n            try {\r\n                const res = await axios.get(`http://127.0.0.1:8000/api/blog/featured`);\r\n                setFeaturedBlog(res.data[0]); //왜 이렇게 해주는건지 한 행씩 들고오려고?\r\n                console.log(res.data)\r\n            }\r\n            catch (err){\r\n\r\n            }\r\n        }\r\n        fetchData();\r\n    }, []);   \r\n\r\n    useEffect(() => {\r\n        const fetchBlogs = async () =>{\r\n            try {\r\n                const res = await axios.get(`http://127.0.0.1:8000/api/blog/`);\r\n                setBlogs(res.data); \r\n            }\r\n            catch (err){\r\n\r\n            }\r\n        }\r\n        fetchBlogs();\r\n    }, []); \r\n\r\n    const capitalizeFirstLetter = (word) => {\r\n        if (word) \r\n            return word.charAt(0).toUpperCase() + word.slice(1);\r\n        return '';\r\n    };\r\n\r\n    const getBlogs = () => {\r\n         let list = [];\r\n         let result = [];\r\n\r\n         blogs.map(blogPost => { // by.juhee 실제 데이터와 매핑하여 리스트에 담아주기 (구조 : 카테고리, 제목, 월일, 발췌) 211130\r\n             return list.push(\r\n                <div className=\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\r\n                    <div className=\"col p-4 d-flex flex-column position-static\">\r\n                        <strong className=\"d-inline-block mb-2 text-primary\">{capitalizeFirstLetter(blogPost.category)}</strong>\r\n                        <h3 className=\"mb-0\">{blogPost.title}</h3>\r\n                        <div className=\"mb-1 text-muted\">{blogPost.month} {blogPost.day}</div>\r\n                        <p className=\"card-text mb-auto\">{blogPost.excerpt}</p>\r\n                        <Link to={`/blog/${blogPost.slug}`} className=\"stretched-link\">Continue reading</Link>\r\n                    </div>\r\n                    <div className=\"col-auto d-none d-lg-block\">\r\n                        <img width='200' height='250' src={blogPost.thmubnail} alt='thumbnail' />\r\n                    </div>  \r\n                </div>\r\n            );\r\n        });\r\n        for (let i = 0; i< list.length; i +=2) { // by.juhee 게시글들을 일정한 행과 열로 나열해주기 211130\r\n            result.push(\r\n                <div key={i} className='row mb-2'>\r\n                    <div className='col-md-6'>\r\n                        {list[i]}\r\n                    </div>\r\n                    <div className='col-md-6'>\r\n                       {list[i+1] ? list[i+1] : null }  \r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n         return result;\r\n    };\r\n\r\n    return (\r\n        <div className='container mt-3'>\r\n            <div className=\"nav-scroller py-1 mb-2\">\r\n                <nav className=\"nav d-flex justify-content-between\">\r\n                    <Link className=\"p-2 text-muted\" to='/category/world'>World</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/environment'>Environment</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/technology'>Technology</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/design'>Design</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/culture'>Culture</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/business'>Business</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/politics'>Politics</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/opinion'>Opinion</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/science'>Science</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/health'>Health</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/style'>Style</Link>\r\n                    <Link className=\"p-2 text-muted\" to='/category/travel'>Travel</Link>\r\n                </nav>\r\n            </div>\r\n\r\n            <div className=\"jumbotron p-4 p-md-5 text-white rounded bg-dark\">\r\n                <div className=\"col-md-6 px-0\">\r\n                    <h1 className=\"display-4 font-italic\">{featuredBlog.title}</h1>\r\n                    <p className=\"lead my-3\">{featuredBlog.excerpt}</p>\r\n                    <p className=\"lead mb-0\">\r\n                        <Link to={`/blog/${featuredBlog.slug}`} className=\"text-white font-weight-bold\">\r\n                            Continue reading...\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {getBlogs()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Blog;"]},"metadata":{},"sourceType":"module"}